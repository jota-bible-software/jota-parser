(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}})();const Z="modulepreload",K=function(n){return"/jota-parser/"+n},N={},m=function(o,e,r){if(!e||e.length===0)return o();const t=document.getElementsByTagName("link");return Promise.all(e.map(s=>{if(s=K(s),s in N)return;N[s]=!0;const c=s.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(!!r)for(let a=t.length-1;a>=0;a--){const l=t[a];if(l.href===s&&(!c||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${g}`))return;const i=document.createElement("link");if(i.rel=c?"stylesheet":Z,c||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),c)return new Promise((a,l)=>{i.addEventListener("load",a),i.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>o())},H=(n,o)=>{const e=n[o];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((r,t)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+o)))})},O="\\s*",W=":;/,. ",G="[^dA-Za-zªµºÀ-ÖØ-öø-ɏḀ-ỿⱠ-ⱿꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꟿ]",T="";class Q{constructor(o){this.options=o;const e=o.locales;if(!e||e.length===0)throw new Error("No locales in the options.")}parse(o){let e=o;const r=[];return this.options.locales.forEach(t=>{const{bookMatchers:s,order:c}=t.default||t;e=X(e,r,s,c),e=e.replace(new RegExp(T,"g"),"")}),r}}function X(n,o,e,r){let t=n;for(let a=r.length;a-- >0;){const l=r[a],h=e[l],d=`(${G}|^)(?<book>${h})(?=[${W}]+\\d|\\d)`,E=new RegExp(d,"gi");t=t.replace(E,`${T}${l} `)}let s;const c=`${T}(?<book>\\d+)[:;/,. ]*(?<firstChapter>\\d+)((?<chapterDelimiterMatch>[:;/,. ]+)`,g=`(?<tail>([:;/,. ]*|(\\d+[a-zA-Z]?)|s*[\\-–]s*(?=[\\d${T}]))*))?`,w=c+g,i=new RegExp(w,"gi");for(let a;a=i.exec(t);){const{book:l,firstChapter:h,chapterDelimiterMatch:d,tail:E}=a.groups,_=parseInt(l),p=d?d.substring(0,1):"",v=d?"\\"+p:p,M=h+p+(E||"").replace(/[a-zA-Z]/g,""),y=`(?<chapter>\\d+)${O}${v}(?<verses>.*?((?=\\d+${v}\\s*\\d)|\\n|$))?`,L=new RegExp(y,"gi");for(let k;k=L.exec(M);){const{chapter:I,verses:b}=k.groups,f=parseInt(I),U=`(?<start>\\d+)(${O}[\\-–]${O}(?<end>\\d+))?`,z=new RegExp(U,"gi");let C=!1;if(b)for(let J;J=z.exec(b);){C=!0;const{start:j,end:D}=J.groups;if(!isNaN(j)){const u=[_,f];if(u.push(parseInt(j)),isNaN(D)||u.push(parseInt(D)),b.match(/[-–]\s*$/))s=u;else if(s)o.push([s,u]);else{const $=o[o.length-1];$&&$[0]===u[0]&&$[1]===u[1]&&($[2]===u[2]-1||$[3]===u[2]-1)?$[3]=u[3]===void 0?u[2]:u[3]:o.push(u)}}}C||(Y(_)?o.push([_,1,f]):o.push([_,f]))}}return t}function Y(n){return[30,56,62,63,64].includes(n)}const ee=["en-US","pl-PL","pt-BR"];let x=navigator.languages[0].substring(0,2);ee.includes(x)||(x="en");let A;const R=new bcv_parser;R.include_apocrypha(!0);const te=["Gen","Exod","Lev","Num","Deut","Josh","Judg","Ruth","1Sam","2Sam","1Kgs","2Kgs","1Chr","2Chr","Ezra","Neh","Esth","Job","Ps","Prov","Eccl","Song","Isa","Jer","Lam","Ezek","Dan","Hos","Joel","Amos","Obad","Jonah","Mic","Nah","Hab","Zeph","Hag","Zech","Mal","Matt","Mark","Luke","John","Acts","Rom","1Cor","2Cor","Gal","Eph","Phil","Col","1Thess","2Thess","1Tim","2Tim","Titus","Phlm","Heb","Jas","1Pet","2Pet","1John","2John","3John","Jude","Rev","Jdt","Tob","1Macc","2Macc","Wis","Sir","Bar"];let S;async function q(n,o){let e,r;o?(e=await m(()=>import("./parser-en-US-74075074.js"),[]),r=(await m(()=>import("./data-common-8aca839f.js"),[])).data):(e=await H(Object.assign({"./src/parser-en-US.js":()=>m(()=>import("./parser-en-US-74075074.js"),[]),"./src/parser-pl-PL.js":()=>m(()=>import("./parser-pl-PL-cd313a7f.js"),[]),"./src/parser-pt-BR.js":()=>m(()=>import("./parser-pt-BR-5ed27af1.js"),[])}),`./src/parser-${n}.js`),r=(await H(Object.assign({"./test/data-common.js":()=>m(()=>import("./data-common-8aca839f.js"),[]),"./test/data-en-US.js":()=>m(()=>import("./data-en-US-8c946662.js"),[]),"./test/data-pl-PL.js":()=>m(()=>import("./data-pl-PL-0511c858.js"),[]),"./test/data-pt-BR.js":()=>m(()=>import("./data-pt-BR-bbf164dc.js"),[])}),`./test/data-${n}.js`)).data),A=new Q({locales:[e]});let t=0,s=0,c=0,g=0;const w=r.map(E=>{const _=E.cases.map(p=>{let v=performance.now();const M=A.parse(p.input);v=performance.now()-v;const y=JSON.stringify(M)==JSON.stringify(p.expectedOutput);y||t++;let L=performance.now();R.parse(p.input);const k=R.osis();L=performance.now()-L;const I=F(k),b=B(p.expectedOutput),f=I==b;return f||s++,y&&f&&(c+=v,g+=L),`
      <div> ${p.input} </div>
      <div class="jota">${P(y)} ${B(M)} </div>
      <div class="bcv">${P(f)} ${I} </div>
      `}).join(`
`);return`<div class="span"><h4>${E.group}</h4></div>${_}`}).join(`
`);console.log(`Parsing time of Jota parser is ${c} ms`),console.log(`Parsing time of BCV parser is ${g} ms`);const i=document.getElementById("grid");S||(S=i.innerHTML),i.innerHTML=S+w,document.getElementById("stat1").innerHTML+=`${P(!t)} ${V(t,1)}`,document.getElementById("stat2").innerHTML+=`${P(!s)} ${V(s,2)}`;const a=document.querySelector(`#locale option[value="${n}"]`);a.selected=!0;const l=document.querySelector("#locale select");l.addEventListener("change",()=>{q(l.value)});const h=document.querySelector("#tabs h3:nth-child(1)"),d=document.querySelector("#tabs h3:nth-child(2)");o?(h.classList.remove("selected"),d.classList.add("selected")):(h.classList.add("selected"),d.classList.remove("selected")),h.addEventListener("click",()=>{window.location.href="index.html"}),d.addEventListener("click",()=>{window.location.href="?common=true"}),oe()}const se=!!window.location.search.includes("common=true");q(x,se);function oe(){document.getElementById("text-input").addEventListener("input",n=>{const o=n.target.value,e=B(A.parse(o));R.parse(o);const r=F(R.osis());document.getElementById("output1").innerHTML=e,document.getElementById("output2").innerHTML=r;const t=e===r,s=document.getElementById("compare-output");s.innerHTML=`
      ${P(t)} Outputs of Jota and BCV parsers ${t?"are the same":"differ"}
    `,s.style.display=n.target.value?"block":"none"})}function P(n){return`<span class="${n?"success":"failure"}">${n?"&#x2714;":"&#x2718;"}</span>`}function V(n,o){const e=n?"failure":"success",r=n?` ${n} failure(s)`:" All good!";return performance.getEntriesByName("parsing"+o).reduce((t,s)=>t+s.duration,0),`<span class="${e}">${r}</span>`}function B(n){return n.map(e=>Array.isArray(e[0])?`${o(e[0])} - ${o(e[1])}`:o(e)).join(", ");function o(e){const r=e[2]?"."+e[2]:"",t=`${te[e[0]]}.${e[1]}`,s=e[3]?` - ${t}.${e[3]}`:"";return`${t}${r}${s}`}}function F(n){return n.replace(/\,/g,", ").replace(/\-/g," - ")}
