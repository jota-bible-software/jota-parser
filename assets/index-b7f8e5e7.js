(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}})();const F="modulepreload",Z=function(n){return"/jota-parser/"+n},j={},f=function(o,e,r){if(!e||e.length===0)return o();const t=document.getElementsByTagName("link");return Promise.all(e.map(s=>{if(s=Z(s),s in j)return;j[s]=!0;const c=s.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!r)for(let l=t.length-1;l>=0;l--){const i=t[l];if(i.href===s&&(!c||i.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${h}`))return;const a=document.createElement("link");if(a.rel=c?"stylesheet":F,c||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),c)return new Promise((l,i)=>{a.addEventListener("load",l),a.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>o())},D=(n,o)=>{const e=n[o];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((r,t)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+o)))})},R="\\s*",z=":;/,. ",K="[^0-9A-Za-zZąćęłńóśźżĄĘŁŃÓŚŹŻ]",O="";class U{constructor(o){this.options=o;const e=o.locales;if(!e||e.length===0)throw new Error("No locales in the options.")}parse(o){let e=o;const r=[];return this.options.locales.forEach(t=>{const{bookMatchers:s,order:c}=t.default||t;e=W(e,r,s,c),e=e.replace(new RegExp(O,"g"),"")}),r}}function W(n,o,e,r){let t=n;for(let u=r.length;u-- >0;){const a=r[u],l=e[a],i=`(${K}|^)(?<book>${l})(?=[${z}]+\\d|\\d)`,p=new RegExp(i,"gi");t=t.replace(p,`${O}${a} `)}let s;const c=`${O}(?<book>\\d+)[:;/,. ]*(?<firstChapter>\\d+)((?<chapterDelimiterMatch>[:;/,. ]+)(?<tail>([:;/,. \\-–]*|(\\d+[a-zA-Z]?))*))?`,h=new RegExp(c,"gi");for(let u;u=h.exec(t);){const{book:a,firstChapter:l,chapterDelimiterMatch:i,tail:p}=u.groups,d=parseInt(a),g=i?i.substring(0,1):"",k=i?"\\"+g:g,m=l+g+(p||"").replace(/[a-zA-Z]/g,""),v=`(?<chapter>\\d+)${R}${k}(?<verses>.*?((?=\\d+${k}\\s*\\d)|\\n|$))?`,I=new RegExp(v,"gi");for(let E;E=I.exec(m);){const{chapter:y,verses:_}=E.groups,$=parseInt(y),P=`(?<start>\\d+)(${R}[\\-–]${R}(?<end>\\d+))?`,b=new RegExp(P,"gi");let A=!1;if(_)for(let J;J=b.exec(_);){A=!0;const{start:B,end:N}=J.groups;if(!isNaN(B)){const L=[d,$];L.push(parseInt(B)),isNaN(N)||L.push(parseInt(N)),_.match(/[-–]\s*$/)?s||(s=L):s?o.push([s,L]):o.push(L)}}A||(G(d)?o.push([d,1,$]):o.push([d,$]))}}return t}function G(n){return[30,56,62,63,64].includes(n)}const Q=["en","pl"];let x=navigator.languages[0].substring(0,2);Q.includes(x)||(x="en");let S;const M=new bcv_parser;M.include_apocrypha(!0);const X=["Gen","Exod","Lev","Num","Deut","Josh","Judg","Ruth","1Sam","2Sam","1Kgs","2Kgs","1Chr","2Chr","Ezra","Neh","Esth","Job","Ps","Prov","Eccl","Song","Isa","Jer","Lam","Ezek","Dan","Hos","Joel","Amos","Obad","Jonah","Mic","Nah","Hab","Zeph","Hag","Zech","Mal","Matt","Mark","Luke","John","Acts","Rom","1Cor","2Cor","Gal","Eph","Phil","Col","1Thess","2Thess","1Tim","2Tim","Titus","Phlm","Heb","Jas","1Pet","2Pet","1John","2John","3John","Jude","Rev","Jdt","Tob","1Macc","2Macc","Wis","Sir","Bar"];let T;async function V(n,o){let e,r;o?(e=await f(()=>import("./parser-en-ffabda22.js"),[]),r=(await f(()=>import("./data-common-1edaa99c.js"),[])).data):(e=await D(Object.assign({"./src/parser-en.js":()=>f(()=>import("./parser-en-ffabda22.js"),[]),"./src/parser-pl.js":()=>f(()=>import("./parser-pl-23207eda.js"),[])}),`./src/parser-${n}.js`),r=(await D(Object.assign({"./test/data-common.js":()=>f(()=>import("./data-common-1edaa99c.js"),[]),"./test/data-en.js":()=>f(()=>import("./data-en-503375ef.js"),[]),"./test/data-pl.js":()=>f(()=>import("./data-pl-0511c858.js"),[])}),`./test/data-${n}.js`)).data),S=new U({locales:[e]});let t=0,s=0,c=0,h=0;const u=r.map(g=>{const k=g.cases.map(m=>{let v=performance.now();const I=S.parse(m.input);v=performance.now()-v;const E=JSON.stringify(I)==JSON.stringify(m.expectedOutput);E||t++;let y=performance.now();M.parse(m.input);const _=M.osis();y=performance.now()-y;const $=q(_),P=C(m.expectedOutput),b=$==P;return b||s++,E&&b&&(c+=v,h+=y),`
      <div> ${m.input} </div>
      <div class="jota">${w(E)} ${C(I)} </div>
      <div class="bcv">${w(b)} ${$} </div>
      `}).join(`
`);return`<div class="span"><h4>${g.group}</h4></div>${k}`}).join(`
`);console.log(`Parsing time of Jota parser is ${c} ms`),console.log(`Parsing time of BCV parser is ${h} ms`);const a=document.getElementById("grid");T||(T=a.innerHTML),a.innerHTML=T+u,document.getElementById("stat1").innerHTML+=`${w(!t)} ${H(t,1)}`,document.getElementById("stat2").innerHTML+=`${w(!s)} ${H(s,2)}`;const l=document.querySelector(`#locale option[value="${n}"]`);l.selected=!0;const i=document.querySelector("#locale select");i.addEventListener("change",()=>{V(i.value)});const p=document.querySelector("#tabs h3:nth-child(1)"),d=document.querySelector("#tabs h3:nth-child(2)");o?(p.classList.remove("selected"),d.classList.add("selected")):(p.classList.add("selected"),d.classList.remove("selected")),p.addEventListener("click",()=>{window.location.href="index.html"}),d.addEventListener("click",()=>{window.location.href="?common=true"}),ee()}const Y=!!window.location.search.includes("common=true");V(x,Y);function ee(){document.getElementById("text-input").addEventListener("input",n=>{const o=n.target.value,e=C(S.parse(o));M.parse(o);const r=M.osis();document.getElementById("output1").innerHTML=e,document.getElementById("output2").innerHTML=q(r);const t=e===r,s=document.getElementById("compare-output");s.innerHTML=`
      ${w(t)} Outputs of Jota and BCV parsers ${t?"are the same":"differ"}
    `,s.style.display=n.target.value?"block":"none"})}function w(n){return`<span class="${n?"success":"failure"}">${n?"&#x2714;":"&#x2718;"}</span>`}function H(n,o){const e=n?"failure":"success",r=n?` ${n} failure(s)`:" All good!";return performance.getEntriesByName("parsing"+o).reduce((t,s)=>t+s.duration,0),`<span class="${e}">${r}</span>`}function C(n){return n.map(e=>Array.isArray(e[0])?`${o(e[0])} - ${o(e[1])}`:o(e)).join(", ");function o(e){const r=e[2]?"."+e[2]:"",t=`${X[e[0]]}.${e[1]}`,s=e[3]?` - ${t}.${e[3]}`:"";return`${t}${r}${s}`}}function q(n){return n.replace(/\,/g,", ").replace(/\-/g," - ")}
