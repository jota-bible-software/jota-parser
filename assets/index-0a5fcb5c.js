(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(s){if(s.ep)return;s.ep=!0;const t=e(s);fetch(s.href,t)}})();const Z="modulepreload",K=function(n){return"/jota-parser/"+n},N={},m=function(o,e,r){if(!e||e.length===0)return o();const s=document.getElementsByTagName("link");return Promise.all(e.map(t=>{if(t=K(t),t in N)return;N[t]=!0;const c=t.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(!!r)for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.href===t&&(!c||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${g}`))return;const i=document.createElement("link");if(i.rel=c?"stylesheet":Z,c||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),c)return new Promise((a,l)=>{i.addEventListener("load",a),i.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>o()).catch(t=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=t,window.dispatchEvent(c),!c.defaultPrevented)throw t})},H=(n,o)=>{const e=n[o];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((r,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+o)))})},O="\\s*",W=":;/,. ",G="[^dA-Za-zªµºÀ-ÖØ-öø-ɏḀ-ỿⱠ-ⱿꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꟿ]",T="";class Q{constructor(o){this.options=o;const e=o.locales;if(!e||e.length===0)throw new Error("No locales in the options.")}parse(o){let e=o;const r=[];return this.options.locales.forEach(s=>{const{bookMatchers:t,order:c}=s.default||s;e=X(e,r,t,c),e=e.replace(new RegExp(T,"g"),"")}),r}}function X(n,o,e,r){let s=n;for(let a=r.length;a-- >0;){const l=r[a],h=e[l],d=`(${G}|^)(?<book>${h})(?=[${W}]+\\d|\\d)`,E=new RegExp(d,"gi");s=s.replace(E,`${T}${l} `)}let t;const c=`${T}(?<book>\\d+)[:;/,. ]*(?<firstChapter>\\d+)((?<chapterDelimiterMatch>[:;/,. ]+)`,g=`(?<tail>([:;/,. ]*|(\\d+[a-zA-Z]?)|s*[\\-–]s*(?=[\\d${T}]))*))?`,R=c+g,i=new RegExp(R,"gi");for(let a;a=i.exec(s);){const{book:l,firstChapter:h,chapterDelimiterMatch:d,tail:E}=a.groups,v=parseInt(l),p=d?d.substring(0,1):"",_=d?"\\"+p:p,M=h+p+(E||"").replace(/[a-zA-Z]/g,""),y=`(?<chapter>\\d+)${O}${_}(?<verses>.*?((?=\\d+${_}\\s*\\d)|\\n|$))?`,b=new RegExp(y,"gi");for(let k;k=b.exec(M);){const{chapter:I,verses:L}=k.groups,f=parseInt(I),U=`(?<start>\\d+)(${O}[\\-–]${O}(?<end>\\d+))?`,z=new RegExp(U,"gi");let C=!1;if(L)for(let J;J=z.exec(L);){C=!0;const{start:j,end:D}=J.groups;if(!isNaN(j)){const u=[v,f];if(u.push(parseInt(j)),isNaN(D)||u.push(parseInt(D)),L.match(/[-–]\s*$/))t=u;else if(t)o.push([t,u]);else{const $=o[o.length-1];$&&$[0]===u[0]&&$[1]===u[1]&&($[2]===u[2]-1||$[3]===u[2]-1)?$[3]=u[3]===void 0?u[2]:u[3]:o.push(u)}}}C||(Y(v)?o.push([v,1,f]):o.push([v,f]))}}return s}function Y(n){return[30,56,62,63,64].includes(n)}const ee=["en-US","pl-PL","pt-BR"];let x=navigator.languages[0].substring(0,2);ee.includes(x)||(x="en");let A;const P=new bcv_parser;P.include_apocrypha(!0);const te=["Gen","Exod","Lev","Num","Deut","Josh","Judg","Ruth","1Sam","2Sam","1Kgs","2Kgs","1Chr","2Chr","Ezra","Neh","Esth","Job","Ps","Prov","Eccl","Song","Isa","Jer","Lam","Ezek","Dan","Hos","Joel","Amos","Obad","Jonah","Mic","Nah","Hab","Zeph","Hag","Zech","Mal","Matt","Mark","Luke","John","Acts","Rom","1Cor","2Cor","Gal","Eph","Phil","Col","1Thess","2Thess","1Tim","2Tim","Titus","Phlm","Heb","Jas","1Pet","2Pet","1John","2John","3John","Jude","Rev","Jdt","Tob","1Macc","2Macc","Wis","Sir","Bar"];let S;async function q(n,o){let e,r;o?(e=await m(()=>import("./parser-en-US-74075074.js"),[]),r=(await m(()=>import("./data-common-8aca839f.js"),[])).data):(e=await H(Object.assign({"./src/parser-en-US.js":()=>m(()=>import("./parser-en-US-74075074.js"),[]),"./src/parser-pl-PL.js":()=>m(()=>import("./parser-pl-PL-cd313a7f.js"),[]),"./src/parser-pt-BR.js":()=>m(()=>import("./parser-pt-BR-5ed27af1.js"),[])}),`./src/parser-${n}.js`),r=(await H(Object.assign({"./test/data-common.js":()=>m(()=>import("./data-common-8aca839f.js"),[]),"./test/data-en-US.js":()=>m(()=>import("./data-en-US-8c946662.js"),[]),"./test/data-pl-PL.js":()=>m(()=>import("./data-pl-PL-0511c858.js"),[]),"./test/data-pt-BR.js":()=>m(()=>import("./data-pt-BR-bbf164dc.js"),[])}),`./test/data-${n}.js`)).data),A=new Q({locales:[e]});let s=0,t=0,c=0,g=0;const R=r.map(E=>{const v=E.cases.map(p=>{let _=performance.now();const M=A.parse(p.input);_=performance.now()-_;const y=JSON.stringify(M)==JSON.stringify(p.expectedOutput);y||s++;let b=performance.now();P.parse(p.input);const k=P.osis();b=performance.now()-b;const I=F(k),L=B(p.expectedOutput),f=I==L;return f||t++,y&&f&&(c+=_,g+=b),`
      <div> ${p.input} </div>
      <div class="jota">${w(y)} ${B(M)} </div>
      <div class="bcv">${w(f)} ${I} </div>
      `}).join(`
`);return`<div class="span"><h4>${E.group}</h4></div>${v}`}).join(`
`);console.log(`Parsing time of Jota parser is ${c} ms`),console.log(`Parsing time of BCV parser is ${g} ms`);const i=document.getElementById("grid");S||(S=i.innerHTML),i.innerHTML=S+R,document.getElementById("stat1").innerHTML+=`${w(!s)} ${V(s,1)}`,document.getElementById("stat2").innerHTML+=`${w(!t)} ${V(t,2)}`;const a=document.querySelector(`#locale option[value="${n}"]`);a.selected=!0;const l=document.querySelector("#locale select");l.addEventListener("change",()=>{q(l.value)});const h=document.querySelector("#tabs h3:nth-child(1)"),d=document.querySelector("#tabs h3:nth-child(2)");o?(h.classList.remove("selected"),d.classList.add("selected")):(h.classList.add("selected"),d.classList.remove("selected")),h.addEventListener("click",()=>{window.location.href="index.html"}),d.addEventListener("click",()=>{window.location.href="?common=true"}),oe()}const se=!!window.location.search.includes("common=true");q(x,se);function oe(){document.getElementById("text-input").addEventListener("input",n=>{const o=n.target.value,e=B(A.parse(o));P.parse(o);const r=F(P.osis());document.getElementById("output1").innerHTML=e,document.getElementById("output2").innerHTML=r;const s=e===r,t=document.getElementById("compare-output");t.innerHTML=`
      ${w(s)} Outputs of Jota and BCV parsers ${s?"are the same":"differ"}
    `,t.style.display=n.target.value?"block":"none"})}function w(n){return`<span class="${n?"success":"failure"}">${n?"&#x2714;":"&#x2718;"}</span>`}function V(n,o){const e=n?"failure":"success",r=n?` ${n} failure(s)`:" All good!";return performance.getEntriesByName("parsing"+o).reduce((s,t)=>s+t.duration,0),`<span class="${e}">${r}</span>`}function B(n){return n.map(e=>Array.isArray(e[0])?`${o(e[0])} - ${o(e[1])}`:o(e)).join(", ");function o(e){const r=e[2]?"."+e[2]:"",s=`${te[e[0]]}.${e[1]}`,t=e[3]?` - ${s}.${e[3]}`:"";return`${s}${r}${t}`}}function F(n){return n.replace(/\,/g,", ").replace(/\-/g," - ")}
